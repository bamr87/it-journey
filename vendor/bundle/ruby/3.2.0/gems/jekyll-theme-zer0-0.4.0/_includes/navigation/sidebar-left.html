<!--
  ===================================================================
  SIDEBAR LEFT - Dynamic Navigation Sidebar
  ===================================================================
  
  File: sidebar-left.html 
  Path: _includes/sidebar-left.html
  Purpose: Left sidebar navigation with multiple content modes including
           dynamic page listing, category browsing, and manual navigation
  
  Template Logic:
  - Responsive offcanvas sidebar for mobile devices
  - Three navigation modes based on page.sidebar.nav:
    * "dynamic": Auto-generated folder structure from pages
    * "searchCats": Category-based navigation from site categories
    * Manual: Predefined navigation from _data files
  
  Dependencies:
  - sidebar-folders.html: Dynamic folder structure generation
  - sidebar-categories.html: Category-based navigation
  - nav_list.html: Manual navigation list rendering
  - Bootstrap 5 offcanvas component
  
  Navigation Modes:
  1. Dynamic: Scans site.pages for index.md files to build folder structure
  2. Categories: Groups content by Jekyll categories
  3. Manual: Uses predefined navigation from _data/navigation.yml
  ===================================================================
-->

<!-- ================================ -->
<!-- SIDEBAR NAVIGATION CONTAINER   -->
<!-- ================================ -->
<!-- Responsive offcanvas sidebar - full-width on mobile, fixed on desktop -->
<div class="offcanvas-lg offcanvas-start" tabindex="-1" id="bdSidebar" aria-labelledby="bdSidebarOffcanvasLabel">

  <!-- ========================== -->
  <!-- SIDEBAR HEADER            -->
  <!-- ========================== -->
  <!-- Mobile-only header with close button -->
  <div class="offcanvas-header border-bottom">
    <h5 class="offcanvas-title" id="bdSidebarOffcanvasLabel">Browse docs</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close" data-bs-target="#bdSidebar"></button>
  </div>

  <!-- ========================== -->
  <!-- SIDEBAR CONTENT AREA      -->
  <!-- ========================== -->
  <!-- Scrollable content area with dynamic navigation options -->
  <div class="offcanvas-body overflow-auto">

    <!-- ========================== -->
    <!-- DYNAMIC PAGE LISTING      -->
    <!-- ========================== -->
    <!-- Auto-generates folder structure from pages containing index.md -->
    {% if page.sidebar.nav == "dynamic" %}
    <div class="list-group" id="sidebar-content">
      {% assign folders = site.pages | where_exp: "item", "item.path contains 'index.md'" | sort: 'path' %}
      {% include navigation/sidebar-folders.html folders=folders %}
    </div>

    <!-- ========================== -->
    <!-- CATEGORY-BASED NAVIGATION -->
    <!-- ========================== -->
    <!-- Creates navigation from Jekyll post/page categories -->
    {% elsif page.sidebar.nav == "searchCats" %}
    <div class="list-group" id="sidebar-content">
      {% assign categories = site.categories | sort %}
      {% include navigation/sidebar-categories.html categories=categories %}
    </div>
    
    <!-- ========================== -->
    <!-- MANUAL NAVIGATION LIST    -->
    <!-- ========================== -->
    <!-- Uses predefined navigation structure from _data files -->
    {% elsif page.sidebar.nav %}
    <nav class="w-100">
      {% include navigation/nav_list.html nav=page.sidebar.nav %}
    </nav>
    {% endif %}
    
  </div>
</div>
